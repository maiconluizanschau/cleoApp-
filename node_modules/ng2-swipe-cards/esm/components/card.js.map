{"version":3,"file":"card.js","sourceRoot":"","sources":["../../../src/components/ng2-swipe-cards/components/card.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  Component,\n  ElementRef,\n  EventEmitter,\n  HostListener,\n  Renderer,\n  Input,\n  Output\n} from '@angular/core';\n\n\nexport class CardComponent {\n   fixed: Boolean = false;\n  _orientation: string = 'xy';\n  \n  set orientation(value: string) {\n    this._orientation = value || \"xy\";\n  }\n  _callDestroy: EventEmitter<any>;\n  \n  set callDestroy(value: EventEmitter<any>) {\n    this._callDestroy = value || new EventEmitter();\n    this.initCallDestroy();\n  }\n  releaseRadius: any;\n  released: Boolean = false;\n\n   onRelease: EventEmitter<any> = new EventEmitter();\n   onSwipe: EventEmitter<any> = new EventEmitter();\n   onAbort: EventEmitter<any> = new EventEmitter();\n\n  element: HTMLElement;\n\n  direction: any = { x: 0, y: 0 };\n\n  constructor(protected el: ElementRef, public renderer: Renderer) {\n    this.element = el.nativeElement;\n  }\n\n  translate(params: any) {\n    if (!this.fixed && !this.released) {\n      this.renderer.setElementStyle(this.element, \"transition\", \"transform \" + (params.time || 0) + \"s ease\");\n      this.renderer.setElementStyle(this.element, \"webkitTransform\", \"translate3d(\" +\n        (params.x && (!this._orientation || this._orientation.indexOf(\"x\") != -1) ? (params.x) : 0) +\n        \"px, \" +\n        (params.y && (!this._orientation || this._orientation.indexOf(\"y\") != -1) ? (params.y) : 0) +\n        \"px, 0) rotate(\" + (params.rotate || 0) + \"deg)\");\n    }\n  }\n\n  onSwipeCb(event: any) {\n    let rotate = ((event.deltaX * 20) / this.element.clientWidth);\n    this.direction.x = event.deltaX > 0 ? 1 : -1;\n    this.direction.y = event.deltaY > 0 ? 1 : -1;\n    this.translate({\n      x: event.deltaX,\n      y: event.deltaY\n    });\n  }\n\n  onAbortCb(event: any) {\n    this.translate({\n      x: 0,\n      y: 0,\n      rotate: 0,\n      time: 0.2\n    });\n  }\n\n  ngOnInit() {\n    this._callDestroy = this._callDestroy || new EventEmitter();\n    this.initCallDestroy();\n  }\n\n  initCallDestroy() {\n    this._callDestroy.subscribe((delay: number) => {\n      this.destroy(delay);\n    });\n  }\n\n  destroy(delay: number = 0) {\n    setTimeout(() => {\n      this.element.remove();\n    }, 200);\n  }\n\n  ngAfterViewChecked() {\n    if (this.element.parentElement) {\n      let height = this.element.parentElement.clientHeight;\n      let width = this.element.parentElement.clientWidth;\n      this.renderer.setElementStyle(this.element, \"height\", height + 'px');\n      this.renderer.setElementStyle(this.element, \"width\", width + 'px');\n      this.releaseRadius = {\n        x: width / 4,\n        y: height / 4\n      };\n    }\n  }\n\n  \n  onPan(event: any) {\n    if (!this.fixed && !this.released) {\n      this.onSwipeCb(event);\n      if (this.onSwipe) {\n        this.onSwipe.emit(event);\n      }\n    }\n  }\n\n  \n  onPanEnd(event: any) {\n    if (!this.fixed && !this.released) {\n      if (\n        (this._orientation == \"x\" && (this.releaseRadius.x < event.deltaX || this.releaseRadius.x * -1 > event.deltaX)) ||\n        (this._orientation == \"y\" && (this.releaseRadius.y < event.deltaY || this.releaseRadius.y * -1 > event.deltaY)) ||\n        ((this.releaseRadius.x < event.deltaX || this.releaseRadius.x * -1 > event.deltaX) ||\n          (this.releaseRadius.y < event.deltaY || this.releaseRadius.y * -1 > event.deltaY))\n      ) {\n        if (this.onRelease) {\n          this.released = true;\n          this.onRelease.emit(event);\n        }\n      } else {\n        this.onAbortCb(event);\n        if (this.onAbort) {\n          this.onAbort.emit(event);\n        }\n      }\n    }\n  }\n\n  ngOnDestroy() {\n    if (this._callDestroy) {\n      this._callDestroy.unsubscribe();\n    }\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  template: '<ng-content></ng-content>',\n  selector: 'sc-card',\n  styles: [`:host {\n      transition: transform 1s ease;\n      position: absolute;\n      border-radius: 2px;\n      border: 1px solid white;\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3) !important;\n      transition: transform 0.2s ease;\n      background-color: white;\n      touch-action: none !important;\n    }\n    :host(.card-heap) {\n      transition: transform 1s ease;\n      display: block;\n      position: absolute;\n      background-color: white;\n      box-shadow: 0 0 0 rgba(0, 0, 0, 0) !important;\n      transform: perspective(400px) translate3d(0, 30px, -30px);\n      visibility: hidden;\n    }\n\n    :host(.card-heap):nth-child(1) {\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3) !important;\n      z-index:3;\n      visibility: visible;\n      transform: perspective(400px) translate3d(0, 0px, 0px);\n    }\n    :host(.card-heap):nth-child(2) {\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3) !important;\n      z-index:2;\n      visibility: visible;\n      transform: perspective(400px) translate3d(0, 30px, -30px);\n    }\n    :host(.card-heap):nth-child(3) {\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3) !important;\n      z-index:1;\n      visibility: visible;\n      transform: perspective(400px) translate3d(0, 60px, -60px);\n    }\n\n    :host .card-overlay {\n      transform: translateZ(0);\n      opacity: 0;\n      border-radius: 2px;\n      position: absolute;\n      width: 100%;\n      height: 10px;\n      top: 0;\n      left: 0;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      overflow: hidden;\n      color: white;\n    }\n`]\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: Renderer, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'fixed': [{ type: Input },],\n'orientation': [{ type: Input, args: ['orientation', ] },],\n'callDestroy': [{ type: Input, args: ['callDestroy', ] },],\n'onRelease': [{ type: Output },],\n'onSwipe': [{ type: Output },],\n'onAbort': [{ type: Output },],\n'onPan': [{ type: HostListener, args: ['pan', ['$event'], ] },],\n'onPanEnd': [{ type: HostListener, args: ['panend', ['$event'], ] },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}